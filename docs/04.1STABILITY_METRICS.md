# 04 ‚Äî STABILITY METRICS (Dynamic Stability Model)

This document defines the **dynamic stability metrics** for the AMNION‚ÄìORACLE resonant system:
how coherence is measured, how losses accumulate, and how the controller reacts to instability.

---

## 1) State Variables (Core Parameters)

### Quality factor
**Q (Quality Factor)** ‚Äî current system coherence / quality of resonance.

- Range: **0.10 ‚Ä¶ 1.00**
- Meaning:
  - **Q ‚Üí 1.0** = high coherence, low dissipation
  - **Q ‚Üí Q_min** = collapse boundary, unstable regime

---

### Power mismatch
**P_mismatch** ‚Äî power imbalance between extraction and feed:

\[
P_{mismatch} = P_{draw} - P_{in}
\]

- If **P_mismatch > 0**, subsystem behaves like a parasitic draw.
- Primary driver of dissipation growth.

---

### Phase mismatch
**œÜ_mismatch** ‚Äî phase dissonance between subsystem and average phase:

\[
\phi_{mismatch} = \sin(\phi - \phi_{avg})
\]

- Alternative engineering form may use absolute deviation:
  \[
  |\phi - \phi_{avg}|
  \]
- Primary driver of coherence loss (capture failure).

---

## 2) Loss Function (Dissipation Model)

The total loss in one step is defined as:

\[
Loss = \alpha (P_{mismatch})^2 + \beta(\phi_{mismatch})^2
\]

Where:
- **Œ±** ‚Äî weighting of power imbalance loss
- **Œ≤** ‚Äî weighting of phase mismatch loss

This makes losses **nonlinear**: mismatch grows ‚Üí loss grows quadratically.

---

## 3) Q Decay Logic (Exponential Coherence Drop)

Coherence decays exponentially with accumulated losses:

\[
Q_{next} = \max(Q_{min}, Q_{current}\cdot e^{-\delta \cdot Loss})
\]

Where:
- **Œ¥** ‚Äî decay coefficient
- **Q_min** ‚Äî floor value preventing negative / undefined Q

**Key property:**  
If mismatch persists, **Q decreases monotonically** until barrier / collapse logic is triggered.

---

## 4) Control Logic (Stability Controller)

### 4.1 Soft Clamp (Anti-Saw Protection)

Hard cutoffs create oscillations (‚Äúsaw effect‚Äù).  
Instead of hard cutoff, use **soft clamp + throttling**:

- Clamp power draw to a limit:
  \[
  P_{draw} \leftarrow clamp(P_{draw}, 0, P_{max})
  \]
- Reduce gain as \(P_{draw}\) approaches \(P_{max}\):
  - adaptive gain reduction
  - progressive throttling

**Goal:** avoid oscillatory limit-cycle behavior.

---

### 4.2 Barrier Trigger (Isolation Mode)

If coherence falls below critical threshold:

\[
Q < Q_{crit}
\]

activate **Barrier Mode**:

**Barrier = Decouple + Damp + Cap**

- **Decouple:** break coupling between subsystem and the network
  \[
  \gamma_i \rightarrow 0
  \]
- **Damp:** increase damping to suppress resonance runaway
  \[
  \zeta \uparrow
  \]
- **Cap:** enforce power budget (sandbox mode)
  \[
  P_{budget} \; \text{limits} \; P_{draw}
  \]

This prevents parasitic subsystem from pulling the whole system into collapse.

---

## 5) Stability Interpretation (Engineering Meaning)

- **Coherence is stability.**
- **Mismatch is dissipation.**
- A parasitic feedback loop (P_draw > P_in) inevitably:
  1) increases mismatch,
  2) increases loss,
  3) reduces Q,
  4) pushes system to collapse unless isolated.

---

## 6) Status Triplet (System Invariant)

üõ°Ô∏è System invariant checklist:

- **Logic:** meanings fixed in GitHub structure
- **Physics:** resonant dynamics model active (Q / mismatch / decay)
- **Ethics:** defensive protocol integrated (barrier prevents exploitation)

---
